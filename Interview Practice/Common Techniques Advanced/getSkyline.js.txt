function getSkyline(buildings){var queue = {0 : 0};var curMaxHeight = 0 , preMaxHeight = 0;var changeBuildings = [],results = [];buildings.map(([start , width , height]) => {changeBuildings.push([start , height ]);changeBuildings.push([start + width , -height ]);});changeBuildings.sort((a,b) => a[0] - b[0] || b[1] - a[1]);changeBuildings.map(([s,h]) => {h > 0 ? queue[h] = -~queue[curMaxHeight < h ? curMaxHeight = h : h]: !--queue[-h] && (delete queue[-h] ,preMaxHeight == -h ? curMaxHeight = Object.keys(queue).pop() : 0);preMaxHeight != curMaxHeight && results.push([s,curMaxHeight]);preMaxHeight = curMaxHeight});return results;}

